<div class="create-employee-container p-8">
  <!-- Formulario -->
  <div class="max-w-lg mx-auto">
    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="flex flex-col space-y-8">

      <!-- Campo Nombre -->
      <mat-form-field class="w-full" appearance="fill">
        <mat-label>Nombre completo</mat-label>
        <input
          matInput
          formControlName="nombre"
          type="text">
        <mat-icon matSuffix>person</mat-icon>

          <!-- Errores de validación -->
          <mat-error *ngIf="nombre?.hasError('required') && nombre?.touched">
            El nombre es obligatorio
          </mat-error>
          <mat-error *ngIf="nombre?.hasError('minlength') && nombre?.touched">
            El nombre debe tener al menos 2 caracteres
          </mat-error>
          <mat-error *ngIf="nombre?.hasError('maxlength') && nombre?.touched">
            El nombre no puede exceder 50 caracteres
          </mat-error>
        </mat-form-field>

      <!-- Campo Correo -->
      <mat-form-field class="w-full" appearance="fill">
        <mat-label>Correo electrónico</mat-label>
        <input
          matInput
          formControlName="correo"
          type="email">
        <mat-icon matSuffix>email</mat-icon>

          <!-- Errores de validación -->
          <mat-error *ngIf="correo?.hasError('required') && correo?.touched">
            El correo electrónico es obligatorio
          </mat-error>
          <mat-error *ngIf="correo?.hasError('email') && correo?.touched">
            Ingrese un correo electrónico válido
          </mat-error>
          <mat-error *ngIf="correo?.hasError('maxlength') && correo?.touched">
            El correo no puede exceder 100 caracteres
          </mat-error>
        </mat-form-field>

      <!-- Campo Tipo (Select) -->
      <mat-form-field class="w-full" appearance="fill">
        <mat-label>Tipo de empleado</mat-label>
        <mat-select formControlName="tipo">
          <mat-option *ngFor="let option of tipoOptions" [value]="option.value">
            {{ option.label }}
          </mat-option>
        </mat-select>
        <mat-icon matSuffix>badge</mat-icon>

          <!-- Error de validación -->
          <mat-error *ngIf="tipo?.hasError('required') && tipo?.touched">
            Debe seleccionar un tipo de empleado
          </mat-error>
        </mat-form-field>

      <!-- Botones de acción -->
      <div class="flex flex-col space-y-4 pt-6">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="isLoading()"
          class="w-full py-3 text-lg">
          @if (isLoading()) {
            <ng-container>
              <mat-spinner diameter="20" class="mr-2"></mat-spinner>
              Creando...
            </ng-container>
          } @else {
            <ng-container>
              Crear Empleado
            </ng-container>
          }
        </button>
      </div>

    </form>
  </div>
</div>
